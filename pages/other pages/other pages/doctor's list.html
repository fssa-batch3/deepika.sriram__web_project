<!DOCTYPE html>
<html lang="en">

<head>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <title>doctor's list</title>
    <link rel="stylesheet" href="../../../assets/css/my project 6.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="icon" href="../../../assets/images/hospital logo 3.JPG">
    <link
        href="https://fonts.googleapis.com/css2?family=Abril+Fatface&family=Courgette&family=Hammersmith+One&family=Kumbh+Sans:wght@100;200;300;400;500;600;700;800;900&family=Roboto+Condensed:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&family=Roboto+Mono:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,300;1,400;1,500;1,600;1,700&family=Source+Sans+Pro:ital,wght@0,200;0,300;0,400;0,600;0,700;0,900;1,200;1,300;1,400;1,600;1,700;1,900&family=Source+Serif+Pro:ital,wght@0,200;0,300;0,400;0,600;0,700;0,900;1,200;1,300;1,400;1,600;1,700;1,900&display=swap"
        rel="stylesheet">

    <style>
        a button,
        button {
            padding: 3%;
            /* background-image: linear-gradient(to right,#03045e,#1618b3,#4143b7,#4143b7,#1618b3,#03045e); */
            background-image: linear-gradient(to left, #caf0f8, #caf0f8);
            border: none;
            /* color:white; */
            color: #03045e;
            font-weight: bold;
        }
    </style>
</head>

<body>
    <header id="header">
        <!-- <div>
            <img src="../../../assets/images/gws.png" alt="logo of get well soon website">
        </div>
        <div>
            <ul id="hide">
                <li>
                    <a href="../../homepage/home page.html"> Home </a>
                </li>
                <li>
                    <a href="#">Contact us</a>
                </li>
                <li>
                    <a href="../other pages/about us.html">About us</a>
                </li>
                <li>
                    <a href="../patient/patient profile page.html"><i class="fas fa-user" alt="profile"></i></a>
                </li>
            </ul>
        </div> -->
    </header>
    <a href="../patient/list of hospital page.html" style="text-decoration: none;color:#03045e">
        <i class="fa fa-angle-double-left"></i>  <b>Back</b>
    </a>
    <h1 style="text-align:center;">Doctor's list</h1>
    <main>
    </main>
    <footer style="margin-top:10%">
        <div class="foot">
            <div>
                <img src="../../../assets/images/hospital_logo_3-removebg-preview.png" alt="gws logo">
            </div>
            <div class="ftr">
                <div>
                    <h3>Contact Us</h3>

                    <p><i class="fa fa-phone"></i> +91 89097 87645</p>

                    <p><i class="fa fa-envelope"></i> deepika.sriram@fssa.freshworks.com</p>
                </div>
                <div>
                    <h3>Follow Us</h3>

                    <p><i class="fa-brands fa-facebook" alt="facebook"></i> Facebook</p>

                    <p><i class="fa-brands fa-twitter" alt="twitter"></i> Twitter</p>

                    <p><i class="fa-brands fa-github" alt="github"></i> Github</p>

                    <p><i class="fa-brands fa-linkedin" alt="linkedin"></i> Linkedin</p>
                </div>
            </div>
        </div>
        <div style="background-color:#03045e;color:white">
            <p style="text-align:center">Website Created By<b> Deepika Sriram</b></p>
            <br>
            <p style="text-align:center">copyrights &copy; reserved</p>
        </div>
    </footer>
</body>
<script>
    const doc = new URLSearchParams(window.location.search).get('hospital-id');

    const doctors = JSON.parse(localStorage.getItem('doctor_detail'));



    for (i = 0; i < doctors.length; i++) {
        const doctor = doctors[i];
        if (doc === doctor["Hospital_id"]) {
            const doctorCard = renderCard(doctor);
            document.querySelector("main").insertAdjacentHTML('beforeend', doctorCard);
        }
        // const doctorCard = renderCard(doctor);
        // document.querySelector("main").insertAdjacentHTML('beforeend', doctorCard);

    }
    function renderTime(time) {
        for (let i = 0; i < 2; i++) {
            return `
            <span> ${"from" + " " + time["starting_time"] + " " + "to" + time["ending_time"]}</span>
            `
        }
    }
    function workingDays(day) {
        return `
        <span>${day},
        `
    }
    function renderCard(doctor) {
        let departmentString = "";
        const departmentArray = doctors[i]["Departments"];
        departmentString += departmentArray.join(", ");

        let qualificationString = "";
        const qualificationArray = doctors[i]["Qualifications"];
        qualificationString += qualificationArray.join(", ");

        let timeString = "";
        const timeArray = doctor["Availabilities"];
        const timeCount = timeArray.length;

        for (let i = 0; i < timeCount; i++) {
            timeString += renderTime(timeArray[i])
        }

        let dayString = "";
        const dayObj = doctor["Working_days"];

        for (let key in dayObj) {
            if (dayObj[key] == true) {
                dayString += workingDays(key)
            }
        }

        const card = `
            <div class="card" style="width:40%;height:70%">
                <div>
                   <img src="${doctors[i]["Doctor_image"]}">
                </div>
                <br>
                <div style="margin-left:-20%;width:300px">
                    <h3 style = "width:auto">${doctors[i]["Doctor_name"]}</h3>
                    <p>${qualificationString}</p>
                    <p><span style="font-weight:bold">${doctors[i]["Experience"]["experience_duration"]} </span> ${doctors[i]["Experience"]["experience_type"] + " " + "experience" + " " + "overall" + "," + " " + departmentString}</p>
                    <p><span style="font-weight:bold">Time availability:</span> <span>${timeString}</span> </p>
                    <p><span style="font-weight:bold">Working days:</span> <span>${dayString}</span> </p>
                </div>
                <br>
                <div style="display:flex;justify-content:space-between;margin-left:-20%;">
                    <a href="../patient/appointment-form.html?hospital-id=${doc}&doctor-id=${doctors[i]["uuid"]}">
                        <button type="button">Book appointment</button>
                    </a>
                    <button type="button">See reviews</button>
                </div>
            </div>
        `
        return card;
    }
</script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css"
    integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/js/all.min.js"
    integrity="sha512-rpLlll167T5LJHwp0waJCh3ZRf7pO6IT1+LZOhAyP6phAirwchClbTZV3iqL3BMrVxIYRbzGTpli4rfxsCK6Vw=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="../../../Javascript files/header.js"></script>
<script>indexPage()</script>

</html>