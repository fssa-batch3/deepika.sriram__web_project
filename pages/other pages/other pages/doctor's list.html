<!-- eslint-disable no-undef -->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>doctor's list</title>
  <link rel="stylesheet" href="../../../assets/css/header.css">
  <link rel="stylesheet" href="../../../assets/css/doctor's list.css">
  <link rel="stylesheet" href="../../../assets/css/footer.css">
  <link rel="icon" href="../../../assets/images/logo for care central.JPG">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap"
    rel="stylesheet">
  
</head>

<body>
  <header id="header"></header>
  <br>
  <a href="../patient/list of hospital page.html" style="text-decoration: none; color:#1b3c74" id="back">
    <i class="fa fa-angle-double-left"></i>
    <b>Back</b>
  </a>
  <main>
    <section id="list">
      <h1 style="font-size: 40px;color:#1b3c74" class="hr-lines">OUR DOCTORS</h1>
      <article></article>
    </section>
  </main>
  <footer>
    <div id="Contact">
      <div>
          <h3>FOLLOW US</h3>
          <p style="color:white"><i class="fa-brands fa-square-facebook"></i> Facebook</p>
          <p style="color:white"><i class="fa-brands fa-square-instagram"></i> Instagram</p>
          <p style="color:white"><i class="fa-brands fa-square-twitter"></i> Twitter</p>
          <p style="color:white"><i class="fa-brands fa-square-google-plus"></i> Google</p>
      </div>
      <div style="border-left:1px solid grey;width:50%;text-align: right;">
          <h3>CONTACT US</h3>
          <p style="color:white"><i class="fa-solid fa-phone"></i> +91 6754239901</p>
          <p style="color:white"><i class="fa-solid fa-envelope"></i> carecentral@gmail.com</p>
      </div>
  </div>
  <div>
      <p style="text-align: center;color:white">copyrights@2023 carecentral. All Rights Reserved</p>
  </div>
  </footer>
</body>
<script>
  const doc = parseInt(
    new URLSearchParams(window.location.search).get("hospital-id")
  );

  const doctors = JSON.parse(localStorage.getItem("doctor_detail"));
  const hospital_list = JSON.parse(localStorage.getItem("hospital_detail"));

  for(let i=0;i<hospital_list.length;i++){
    const particular_hospital = hospital_list[i]
    if(doc === parseInt(particular_hospital.hospital_id)){
      const section = `
        <section id="hospital_detail">
          <img src="${particular_hospital.image_link}" alt="logo of${particular_hospital.hospital_name}" style="border-right:1px solid black"> 
          <div style="margin-left:30px">
            <div>
              <h2>${particular_hospital.hospital_name}</h2>  
            </div>
            <div class="details">
              <div>
                <p><i class="fa-solid fa-location-dot"></i>   ${particular_hospital.address+", "+particular_hospital.locality+", "+particular_hospital.area+", "+particular_hospital.city+" - "+particular_hospital.pincode}</p>  
              </div>
              <div>
                <p><i class="fa-solid fa-phone"></i>   ${particular_hospital.contact_number}</p>
                <p><i class="fa-solid fa-envelope"></i>   ${particular_hospital.email_address}</p>  
              </div> 
            </div> 
          </div>
        </section>
      `

      document.querySelector("main").insertAdjacentHTML("afterbegin" , section)
    }
  }
  for(let j=0;j<doctors.length;j++){
    const doctor = doctors[j];
    if(doc === parseInt(doctor.Hospital_id)){
      const card = `
        <div class="card">
          <div>
            <img src="${doctor.Doctor_image}";
          </div>
          <div>
            <h3 style="font-size:20px">${doctor.Doctor_name}</h3> 
            <p>${doctor.Departments}</p>   
          </div> 
          <div>
            <a href="${doctor.detail_page}?hospital-id=${doctor.Hospital_id}&doctor-id=${doctor.uuid}">
              <button type="button">View doctor</button>    
            </a>    
          </div> 
        </div>
      `

      document.querySelector("article").insertAdjacentHTML("beforeend" , card)
    }
  }

</script>
<script>
  // eslint-disable-next-line radix
  

  // console.log(doctors)

  // function renderTime(time) {
  //   // eslint-disable-next-line no-unreachable-loop
  //   for (let i = 0; i < 2; i++) {
  //     return `
  //           <span>
  //             from ${time.starting_time} to ${time.ending_time}
  //           </span>
  //           `;
  //   }
  // }
  // function workingDays(day) {
  //   return `
  //       <span>${day},
  //       `;
  // }
  // function renderCard(doctor) {
  //   let departmentString = "";
  //   const departmentArray = doctor.Departments;
  //   departmentString += departmentArray.join(", ");

  //   let qualificationString = "";
  //   const qualificationArray = doctor.Qualifications;
  //   qualificationString += qualificationArray.join(", ");

  //   let timeString = "";
  //   const timeArray = doctor.Availabilities;
  //   const timeCount = timeArray.length;

  //   for (let i = 0; i < timeCount; i++) {
  //     timeString += renderTime(timeArray[i]);
  //   }

  //   let dayString = "";
  //   const dayObj = doctor.Working_days;

  //   // eslint-disable-next-line no-restricted-syntax
  //   for (const key in Object.keys(dayObj)) {
  //     if (dayObj[key] === true) {
  //       dayString += workingDays(key);
  //     }
  //   }

  //   const card = `
  //           <div class="card" style="width:40%;height:70%">
  //               <div>
  //                  <img src="${doctor.Doctor_image}">
  //               </div>
  //               <br>
  //               <div style="margin-left:-20%;width:300px">
  //                   <h3 style = "width:auto">${doctor.Doctor_name}</h3>
  //                   <p>${qualificationString}</p>
  //                   <p><span style="font-weight:bold">${doctor.Experience.experience_duration} </span>
  //                   ${doctor.Experience.experience_type} experience overall
  //        ${departmentString}
  //     </p>
  //                   <p><span style="font-weight:bold">Time availability:</span> <span>${timeString}</span> </p>
  //                   <p><span style="font-weight:bold">Working days:</span> <span>${dayString}</span> </p>
  //               </div>
  //               <br>
  //               <div style="display:flex;justify-content:space-between;margin-left:-20%;">
  //                   <a href="../patient/appointment-form.html?hospital-id=${doc}&doctor-id=${doctor.uuid}">
  //                       <button type="button">Book appointment</button>
  //                   </a>
  //                   <button type="button">See reviews</button>
  //               </div>
  //           </div>
  //       `;
  //   return card;
  // }

  // for (let i = 0; i < doctors.length; i++) {
  //   const doctor = doctors[i];
  //   // eslint-disable-next-line radix
  //   if (doc === parseInt(doctor.Hospital_id)) {
  //     const doctorCard = renderCard(doctor);
  //     document.querySelector("main").insertAdjacentHTML("beforeend", doctorCard);
  //   }
  // }
    // eslint-disable-next-line consistent-return
</script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css"
  integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w=="
  crossorigin="anonymous" referrerpolicy="no-referrer">
<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/js/all.min.js"
  integrity="sha512-rpLlll167T5LJHwp0waJCh3ZRf7pO6IT1+LZOhAyP6phAirwchClbTZV3iqL3BMrVxIYRbzGTpli4rfxsCK6Vw=="
  crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="../../../Javascript files/header.js"></script>
</script>

</html>