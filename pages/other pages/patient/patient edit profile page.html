<!DOCTYPE html>
<html lang="en">
    <head>
        <title>patient edit profile page</title>
        <link rel="stylesheet" href="../../../assets/css/my project 3.css">
        <meta name='viewport' content='width=device-width, initial-scale=1'>
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="icon" href="../../../assets/images/hospital logo 3.JPG">
        <link href="https://fonts.googleapis.com/css2?family=Abril+Fatface&family=Courgette&family=Hammersmith+One&family=Kumbh+Sans:wght@100;200;300;400;500;600;700;800;900&family=Roboto+Condensed:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&family=Roboto+Mono:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,300;1,400;1,500;1,600;1,700&family=Source+Sans+Pro:ital,wght@0,200;0,300;0,400;0,600;0,700;0,900;1,200;1,300;1,400;1,600;1,700;1,900&family=Source+Serif+Pro:ital,wght@0,200;0,300;0,400;0,600;0,700;0,900;1,200;1,300;1,400;1,600;1,700;1,900&display=swap" rel="stylesheet">
    </head>
    <body>
        <header>
            <div>
                <img src="../../../assets/images/gws.png" alt="logo of get well soon website">
            </div>
            <div>
                <ul id="hide">
                    <li>
                        <a href="../../homepage/home page.html"> Home </a>
                    </li>
                    <li>
                        <a href="#">Contact us</a>
                    </li>
                    <li>
                        <a href="../other pages/about us.html">About us</a>
                    </li>
                    <li>
                        <a href="../patient/patient profile page.html"><i class="fas fa-user" alt="profile"></i></a>
                    </li>
                </ul>
            </div>
        </header>
        <main>
            <form class="edit" onsubmit="update(event)">
                <div>
                   <h1 style="margin-left:20px">Edit Profile</h1>
                   <div style="margin-left:20px">
                       <label>Name*</label>
                   </div>
                   <br>
                   <div style="margin-left:20px">
                       <input type="text" placeholder="firstname and lastname" id="name" required="true" style="width:80%" />
                    </div>
                    <br>
                    <div class="frm">
                        <div style="margin-left:20px">
                           <div>
                               <label>Age*</label>
                           </div>
                           <br>
                           <div>
                              <input type="number" required="true" id="age" style="width:70px;" />
                           </div>
                       </div>
                       <div style="margin-left:60px">
                            <div>
                               <label>Gender*</label>
                            </div>
                            <br>
                            <br>
                            <div>
                                <input type="radio" required="true" name="M_F_O" />
                                <label>Male</label>
                                <input type="radio" required="true" name="M_F_O" />
                                <label>Female</label>
                                <input type="radio" required="true" name="M_F_O" />
                                <label>Others</label>
                           </div>
                       </div>
                    </div>
                    <br>
                    <div style="margin-left:20px">
                       <label>Mobile Number</label>
                    </div>
                    <br>
                    <div style="margin-left:20px">
                       <input type="tel" style="width:80%;" id="mobile_number" />
                    </div>
                    <br>
                    <div>
                       <div style="margin-left:20px">
                           <div>
                              <label>Email Id*</label>
                           </div>
                           <br>
                           <div>
                              <input type="email" required="true" id="email" style="width:80%" disabled/>
                            </div>
                        </div>
                    </div>
                    <br>
                    <div>
                        <div style="margin-left:20px">
                           <div>
                              <label>Health issues*</label>
                           </div>
                           <br>
                           <div>
                              <input type="text"  style="width:80%;" />
                           </div>
                        </div>
                        <br>
                    </div>
                    <div style="margin-left:20px">
                        <div>
                            <label>Occupation*</label>
                            <select>
                                <option>Government</option>
                                <option>Private</option>
                                <option>Own business</option>
                                <option>Housewife</option>
                                <option>Others</option>
                            </select>
                        </div>
                    </div>
                    <br>
                    <div style="margin-left:20px">
                        <div>
                            <label>Insurance policies</label>
                            <select>
                                <option>Central govt health scheme</option>
                                <option>Employement state insurance (ESI) </option>
                                <option>Private insurance</option>
                                <option>N/A</option>
                            </select>
                        </div>
                    </div>
                    <br>
                    <br>
                    <div id="frm">
                        <div style="margin-left:20px">
                            <button type="reset">CLEAR FORM</button>
                       </div>
                       <br>
                       <div style="margin-left:20px">
                            <button type="submit">Update Profile</button>
                        </a>
                        </div>
                    </div>
                </div>
            </form>
        </main>
        <script>
            let unique_id = JSON.parse(localStorage.getItem("unique_id"));
            let user_detail = JSON.parse(localStorage.getItem("user_detail"));
            console.log(user_detail);
            console.log(unique_id);


            function profile_data(e){
                return e.email_id == unique_id;
            }
            person_data = user_detail.find(profile_data);
            console.log(person_data)

            document.getElementById("name").value = person_data["f_name"]+person_data["l_name"];
            document.getElementById("age").value = person_data["age"];
            document.getElementById("mobile_number").value = person_data["mobile"];
            document.getElementById("email").value = person_data["email_id"];


            function update(e){
                e.preventDefault();
            let up_name = document.getElementById("name").value
            let up_age = document.getElementById("age").value
            let up_mobile_number = document.getElementById("mobile_number").value
            let up_email = document.getElementById("email").value
            person_data["f_name"]= up_name
            person_data["age"]= up_age
            person_data["mobile"]=up_mobile_number
            person_data["email_id"]=up_email
            localStorage.setItem("user_detail", JSON.stringify(user_detail))

            location.href="../../other pages/patient/patient profile page.html"
         }
        </script>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
        <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/js/all.min.js" integrity="sha512-rpLlll167T5LJHwp0waJCh3ZRf7pO6IT1+LZOhAyP6phAirwchClbTZV3iqL3BMrVxIYRbzGTpli4rfxsCK6Vw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    </body>
</html>